<html>
<head>
	<title>Update JROTC Database</title>
<script src="js/script.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.3/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyB0keF26uKYDOR2o-8HYkgoOGWhsPyHdkg",
    authDomain: "jrotc-database.firebaseapp.com",
    databaseURL: "https://jrotc-database.firebaseio.com",
    projectId: "jrotc-database",
    storageBucket: "jrotc-database.appspot.com",
    messagingSenderId: "787128694744"
  };
  firebase.initializeApp(config);
</script>
  <script>
  function onLoad() {
   readData("commanderscup", function (data) {
     document.getElementById("alphacurrentpoints").innerHTML = data.Alpha
     document.getElementById("bravocurrentpoints").innerHTML = data.Bravo
   });
   setKeyHandle("uniformtype",formationSend);
    setKeyHandle("date",formationSend);
    setKeyHandle("time",formationSend);
    setKeyHandle("location",formationSend);
    setKeyHandle("alpha",cupSend);
    setKeyHandle("bravo",cupSend);
   var x = document.getElementById("write-box")
   x.style.display = 'none' 
  }
  var provider = new firebase.auth.GoogleAuthProvider();
  firebase.auth().signInWithPopup(provider).then(function(result) {
  // This gives you a Google Access Token. You can use it to access the Google API.
  var token = result.credential.accessToken;
  // The signed-in user info.
  var user = result.user;
  var x = document.getElementById("write-box")
  x.style.display = 'block'
  document.getElementById("infobox").innerHTML = ""
  // ...
}).catch(function(error) {
  // Handle Errors here.
  var errorCode = error.code;
  var errorMessage = error.message;
  // The email of the user's account used.
  var email = error.email;
  // The firebase.auth.AuthCredential type that was used.
  var credential = error.credential;
      console.log(errorCode)
    console.log(errorMessage)
  // ...
});
  </script>
</head>
<body onload="javascript:onLoad()">
	<br> 
  <div id="infobox">
    Please enable popups to login to update the Nokomis JROTC Database<br>
    Consult <a href="https://www.asus.com/us/support/FAQ/1007483/"> this website </a>for more information on how to enable popups on chrome.
  </div>
  <div id="write-box">
	Next Formation Update Form:<br>
  Uniform Type:
  <input type="text" id="uniformtype"><br>
	Formation Date:
  <input type="text" id="date"><br>
	Time of Formation:
   <input type="text" id="time"><br>
	Location (i.e Gym, etc):
   <input type="text" id="location"><br>
	<input type="submit" value="Send" onclick="var array = {Date: document.getElementById('date').value, Uniform: document.getElementById('uniformtype').value, Location: document.getElementById('location').value, Time: document.getElementById('time').value};sendData('nextformation/', array);document.getElementById('date').value = '';document.getElementById('uniformtype').value = '';document.getElementById('time').value = '';document.getElementById('location').value = '';">

  <br>
  <br>
  Commanders Cup Points Update:<br>
  Alpha Companies Points (Current <span id="alphacurrentpoints">Loading...</span>):
  <input type="text" id="alpha"><br>
	Bravo Companies Points (Current <span id="bravocurrentpoints">Loading...</span>):
  <input type="text" id="bravo"><br>
	<input type="submit" value="Send" onclick="var array = {Alpha: document.getElementById('alpha').value, Bravo: document.getElementById('bravo').value};sendData('commanderscup/', array);document.getElementById('alpha').value = '';document.getElementById('bravo').value = '';">
  
  </div>
    </body>
